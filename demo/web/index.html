<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Dropdown</title>
        <style>
            .sub-menu {
                display: none;
            }

            .show {
                display: block !important;
            }
        </style>
    </head>
    <body>
        <ul id="menu" class="menu">
            <li class="menu-items">
                Dropdown 1
                <ul class="sub-menu">
                    <li class="sub-items">Submenu 1 - 1</li>
                    <li class="sub-items">Submenu 1 - 2</li>
                    <li class="sub-items">Submenu 1 - 3</li>
                </ul>
            </li>
            <li class="menu-items">
                Dropdown 2
                <ul class="sub-menu">
                    <li class="sub-items">Submenu 2 - 1</li>
                    <li class="sub-items">Submenu 2 - 2</li>
                    <li class="sub-items">Submenu 2 - 3</li>
                </ul>
            </li>
            <li class="menu-items">
                Dropdown 3
                <ul class="sub-menu">
                    <li class="sub-items">Submenu 3 - 1</li>
                    <li class="sub-items">Submenu 3 - 2</li>
                    <li class="sub-items">Submenu 3 - 3</li>
                </ul>
            </li>
        </ul>

        <p id="click"></p>
        <script>
            // Cái này để lưu cái menu trước đó đã click
            let prev;

            // Thay vì add handler cho menu, mình add handler cho event click trên toàn trang (document). Cái này gọi nà nổi cmn bọt sự kiện
            document.addEventListener("click", function (ev) {
                let li = ev.target.closest(".menu-items");

                if (li) {
                    prev &&
                        prev != li &&
                        prev
                            .querySelector(".sub-menu")
                            .classList.remove("show");
                    prev = li;
                    li.querySelector(".sub-menu").classList.toggle("show");
                    click.textContent = ev.target.firstChild.textContent;
                } else {
                    prev &&
                        prev
                            .querySelector(".sub-menu")
                            .classList.remove("show") &&
                        (prev = null);
                }
            });
        </script>
    </body>
</html>
